{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gillescas\\\\Documents\\\\Second Year\\\\Summer Quarter\\\\Capstone\\\\KiKoi-Capstone\\\\react-front-end\\\\src\\\\components\\\\Admin.js\",\n  _s = $RefreshSig$();\nimport { React, useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport Cookies from \"universal-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst cookies = new Cookies();\nconst token = cookies.get(\"TOKEN\");\nconst logout = () => {\n  cookies.remove(\"TOKEN\", {\n    path: \"/\"\n  });\n  window.location.href = \"/\";\n};\nexport default function Admin() {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [productData, setProductData] = useState([]);\n  useEffect(() => {\n    const config = {\n      method: \"get\",\n      url: \"http://localhost:5000/admin-endpoint\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios(config).then(result => {\n      setMessage(result.data.message);\n    }).catch(e => {\n      e = new Error();\n    });\n  }, []);\n  useEffect(() => {\n    const config = {\n      method: \"get\",\n      url: \"http://localhost:5000/admin-products\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios(config).then(result => {\n      setProductData(result.data.data);\n    }).catch(e => {\n      e = new Error();\n    });\n  }, []);\n  function go(id) {\n    console.log(\"Deleting product: \", id);\n    if (id && id !== \"\") {\n      fetch(`http://localhost:5000/delete/${id}`, {\n        method: \"DELETE\"\n      }).then(response => response.json()).then(() => {\n        fetch(`http://localhost:5000/products`).then(response => response.json()).then(data => {\n          setProductData(data);\n        }).catch(error => {\n          console.error(\"Error regrabing data\", error);\n        });\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n  }\n  if (productData && message) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"hstack gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"p-2 ms-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-success\",\n            variant: \"success\",\n            type: \"submit\",\n            onClick: () => logout(),\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"vr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"p-2\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"btn btn-danger\",\n            variant: \"danger\",\n            type: \"submit\",\n            onClick: () => logout(),\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container text-center\",\n        id: \"prodcontain\",\n        children: productData === null || productData === void 0 ? void 0 : productData.map(data => /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"proddisplay\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"card\",\n              style: {\n                width: \"18rem\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: data.img,\n                class: \"card-img-top \",\n                alt: \"productImg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  class: \"card-title\",\n                  children: data.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"card-text\",\n                  children: [\"$\", data.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#\",\n                  class: \"btn btn-primary\",\n                  id: \"buttons\",\n                  children: \"Go somewhere\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  class: \"btn btn-danger\",\n                  variant: \"danger\",\n                  onClick: () => {\n                    go(data._id);\n                  },\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this)\n          }, data._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 21\n          }, this)\n        }, void 0, false))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)\n    }, void 0, false);\n  }\n}\n_s(Admin, \"vRErqs+3xnFd2/8kX/QJuUT3Q3A=\");\n_c = Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useEffect","useState","axios","Cookies","jsxDEV","_jsxDEV","Fragment","_Fragment","cookies","token","get","logout","remove","path","window","location","href","Admin","_s","message","setMessage","productData","setProductData","config","method","url","headers","Authorization","then","result","data","catch","e","Error","go","id","console","log","fetch","response","json","error","children","class","variant","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","style","width","src","img","alt","name","price","_id","_c","$RefreshReg$"],"sources":["C:/Users/gillescas/Documents/Second Year/Summer Quarter/Capstone/KiKoi-Capstone/react-front-end/src/components/Admin.js"],"sourcesContent":["import {React, useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\nimport Cookies from \"universal-cookie\";\r\n\r\nconst cookies = new Cookies();\r\nconst token = cookies.get(\"TOKEN\");\r\n\r\nconst logout = () => {\r\n    cookies.remove(\"TOKEN\", {path: \"/\"});\r\n    window.location.href = \"/\";\r\n}\r\n\r\nexport default function Admin() {\r\n    const [message, setMessage] = useState(\"\");\r\n    const [productData, setProductData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: \"http://localhost:5000/admin-endpoint\",\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        };\r\n        axios(config)\r\n        .then((result) => {\r\n            setMessage(result.data.message);\r\n        })\r\n        .catch((e) => {\r\n            e = new Error();\r\n        });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const config = {\r\n            method: \"get\",\r\n            url: \"http://localhost:5000/admin-products\",\r\n            headers: {\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        };\r\n        axios(config)\r\n        .then((result) => {\r\n            setProductData(result.data.data);\r\n        })\r\n        .catch((e) => {\r\n            e = new Error();\r\n        });\r\n    }, []);\r\n\r\n    function go(id){\r\n        console.log(\"Deleting product: \", id);\r\n        if(id && id !== \"\"){\r\n            fetch(`http://localhost:5000/delete/${id}`, {\r\n                method: \"DELETE\"\r\n            })\r\n            .then(response => response.json())\r\n            .then(() => {\r\n                fetch(`http://localhost:5000/products`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setProductData(data);\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error regrabing data\", error)\r\n                });\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n            });\r\n        }\r\n    }\r\n    \r\n    if(productData && message) {return (\r\n        <div>\r\n            <div class=\"hstack gap-3\">\r\n                <div class=\"p-2 ms-auto\"><button class=\"btn btn-success\" variant=\"success\" type=\"submit\" onClick={() => logout()}>Logout</button></div>\r\n                <div class=\"vr\"></div>\r\n                <div class=\"p-2\"><button class=\"btn btn-danger\" variant=\"danger\" type=\"submit\" onClick={() => logout()}>Logout</button></div>\r\n            </div>\r\n            <div class=\"container text-center\" id=\"prodcontain\">\r\n                {productData?.map(data => (\r\n                    <>\r\n                    <div key={data._id} id=\"proddisplay\">\r\n                        <div class=\"card\" style={{width: \"18rem\"}}>\r\n                            <img src={data.img} class=\"card-img-top \" alt=\"productImg\"/>\r\n                            <div class=\"card-body\">\r\n                                <h4 class=\"card-title\">{data.name}</h4>\r\n                                <p class=\"card-text\">${data.price}</p>\r\n                                <a href=\"#\" class=\"btn btn-primary\" id=\"buttons\">Go somewhere</a>\r\n                                <button class=\"btn btn-danger\" variant=\"danger\" onClick={() => {go(data._id)}}>Delete</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </>\r\n                ))}\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    else{\r\n        return (\r\n            <>\r\n            <div>Admin</div>\r\n            </>\r\n        )\r\n    }\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}